(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{19:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),o=n(14),s=n.n(o),a=(n(19),n(3)),i=n.n(a);const l="http://localhost:3003/api/persons";var d={getAll:()=>i.a.get(l).then((e=>e.data)),create:e=>i.a.post(l,e).then((e=>e.data)),update:(e,t)=>i.a.put(`${l}/${e}`,t).then((e=>e.data)),remove:e=>i.a.delete(`${l}/${e}`).then((e=>e.data))},h=n(0);var u=()=>{const[e,t]=Object(r.useState)([]),[n,c]=Object(r.useState)(""),[o,s]=Object(r.useState)(""),[a,i]=Object(r.useState)(null);Object(r.useEffect)((()=>{d.getAll().then((e=>{t(e)})).catch((e=>{console.error("Error fetching persons:",e)}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),a&&Object(h.jsx)("div",{style:{color:"red"},children:a}),Object(h.jsxs)("form",{onSubmit:r=>{r.preventDefault();const a={name:n,number:o};d.create(a).then((n=>{t(e.concat(n)),c(""),s("")})).catch((e=>{i(e.response.data.error),setTimeout((()=>{i(null)}),5e3)}))},children:[Object(h.jsxs)("div",{children:["Name: ",Object(h.jsx)("input",{value:n,onChange:e=>c(e.target.value)})]}),Object(h.jsxs)("div",{children:["Number: ",Object(h.jsx)("input",{value:o,onChange:e=>s(e.target.value)})]}),Object(h.jsx)("button",{type:"submit",children:"Add"})]}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)("ul",{children:e.map((n=>Object(h.jsxs)("li",{children:[n.name," ",n.number,Object(h.jsx)("button",{onClick:()=>{return r=n.id,void(window.confirm("Are you sure you want to delete this person?")&&d.remove(r).then((()=>{t(e.filter((e=>e.id!==r)))})).catch((e=>{console.error("Error deleting person:",e)})));var r},children:"Delete"})]},n.id)))})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(u,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.9553b150.chunk.js.map