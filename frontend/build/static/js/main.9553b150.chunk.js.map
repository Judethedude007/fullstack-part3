{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","personsService","getAll","axios","get","then","response","data","create","newPerson","post","update","id","updatedPerson","put","remove","delete","App","persons","setPersons","useState","newName","setNewName","newNumber","setNewNumber","errorMessage","setErrorMessage","useEffect","initialPersons","catch","error","console","_jsxs","children","_jsx","style","color","onSubmit","event","preventDefault","name","number","returnedPerson","concat","setTimeout","value","onChange","e","target","type","map","person","onClick","deletePerson","window","confirm","filter","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"wNAEA,MAAMA,EAAU,oCASDC,MAPQ,CACrBC,OAAQA,IAAMC,IAAMC,IAAIJ,GAASK,MAAKC,GAAYA,EAASC,OAC3DC,OAASC,GAAcN,IAAMO,KAAKV,EAASS,GAAWJ,MAAKC,GAAYA,EAASC,OAChFI,OAAQA,CAACC,EAAIC,IAAkBV,IAAMW,IAAI,GAAGd,KAAWY,IAAMC,GAAeR,MAAKC,GAAYA,EAASC,OACtGQ,OAASH,GAAOT,IAAMa,OAAO,GAAGhB,KAAWY,KAAMP,MAAKC,GAAYA,EAASC,Q,OC0E9DU,MA/EHA,KACV,MAAOC,EAASC,GAAcC,mBAAS,KAChCC,EAASC,GAAcF,mBAAS,KAChCG,EAAWC,GAAgBJ,mBAAS,KACpCK,EAAcC,GAAmBN,mBAAS,MAGjDO,qBAAU,KACR1B,EAAeC,SACZG,MAAKuB,IACJT,EAAWS,EAAe,IAE3BC,OAAMC,IACLC,QAAQD,MAAM,0BAA2BA,EAAM,GAC/C,GACH,IAmCH,OACEE,eAAA,OAAAC,SAAA,CACEC,cAAA,MAAAD,SAAI,cAEHR,GAAgBS,cAAA,OAAKC,MAAO,CAAEC,MAAO,OAAQH,SAAER,IAEhDO,eAAA,QAAMK,SAtCSC,IACjBA,EAAMC,iBAEN,MAAM9B,EAAY,CAAE+B,KAAMnB,EAASoB,OAAQlB,GAE3CtB,EAAeO,OAAOC,GACnBJ,MAAKqC,IACJvB,EAAWD,EAAQyB,OAAOD,IAC1BpB,EAAW,IACXE,EAAa,GAAG,IAEjBK,OAAMC,IACLJ,EAAgBI,EAAMxB,SAASC,KAAKuB,OACpCc,YAAW,KACTlB,EAAgB,KAAK,GACpB,IAAK,GACR,EAsBwBO,SAAA,CACxBD,eAAA,OAAAC,SAAA,CAAK,SACGC,cAAA,SAAOW,MAAOxB,EAASyB,SAAWC,GAAMzB,EAAWyB,EAAEC,OAAOH,YAEpEb,eAAA,OAAAC,SAAA,CAAK,WACKC,cAAA,SAAOW,MAAOtB,EAAWuB,SAAWC,GAAMvB,EAAauB,EAAEC,OAAOH,YAE1EX,cAAA,UAAQe,KAAK,SAAQhB,SAAC,WAGxBC,cAAA,MAAAD,SAAI,YACJC,cAAA,MAAAD,SACGf,EAAQgC,KAAIC,GACXnB,eAAA,MAAAC,SAAA,CACGkB,EAAOX,KAAK,IAAEW,EAAOV,OACtBP,cAAA,UAAQkB,QAASA,KAAMC,OAjCXzC,EAiCwBuC,EAAOvC,QAhC/C0C,OAAOC,QAAQ,iDACjBtD,EAAec,OAAOH,GACnBP,MAAK,KACJc,EAAWD,EAAQsC,QAAOL,GAAUA,EAAOvC,KAAOA,IAAI,IAEvDiB,OAAMC,IACLC,QAAQD,MAAM,yBAA0BA,EAAM,KAPhClB,KAiCmC,EAAAqB,SAAC,aAFzCkB,EAAOvC,UAMhB,ECzEV6C,IAASC,OACPxB,cAACyB,IAAMC,WAAU,CAAA3B,SACfC,cAACjB,EAAG,MAEN4C,SAASC,eAAe,Q","file":"static/js/main.9553b150.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = 'http://localhost:3003/api/persons'; // Ensure this is correct\r\n\r\nconst personsService = {\r\n  getAll: () => axios.get(baseUrl).then(response => response.data),\r\n  create: (newPerson) => axios.post(baseUrl, newPerson).then(response => response.data),\r\n  update: (id, updatedPerson) => axios.put(`${baseUrl}/${id}`, updatedPerson).then(response => response.data),\r\n  remove: (id) => axios.delete(`${baseUrl}/${id}`).then(response => response.data),\r\n};\r\n\r\nexport default personsService;\r\n","import { useState, useEffect } from 'react';\r\nimport personsService from './services/persons';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  // Fetch all persons from the backend when the component mounts\r\n  useEffect(() => {\r\n    personsService.getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching persons:', error);\r\n      });\r\n  }, []);\r\n\r\n  // Function to add a new person\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    const newPerson = { name: newName, number: newNumber };\r\n\r\n    personsService.create(newPerson)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName('');\r\n        setNewNumber('');\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(error.response.data.error);\r\n        setTimeout(() => {\r\n          setErrorMessage(null);\r\n        }, 5000);\r\n      });\r\n  };\r\n\r\n  // Function to handle deleting a person\r\n  const deletePerson = (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this person?\")) {\r\n      personsService.remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id));\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Error deleting person:\", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      {errorMessage && <div style={{ color: 'red' }}>{errorMessage}</div>}\r\n\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          Name: <input value={newName} onChange={(e) => setNewName(e.target.value)} />\r\n        </div>\r\n        <div>\r\n          Number: <input value={newNumber} onChange={(e) => setNewNumber(e.target.value)} />\r\n        </div>\r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {persons.map(person => (\r\n          <li key={person.id}>\r\n            {person.name} {person.number} \r\n            <button onClick={() => deletePerson(person.id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}